function AutocompleteDisabler(e){if(this.instantiated)return this.instance;e||(e={}),this.instantiated=!0,this.instance=this,this.showTypingVisualizer=e.showTypingVisualizer||!1,this.showTDNALogo=null==e.showTDNALogo||e.showTDNALogo,this.className="disable-autocomplete",this.elements={};var t=this;this.refElements=document.querySelectorAll("."+this.className);for(var i=0;i<this.refElements.length;i++){const e=this.refElements[i];e.id||(e.id=this.getId(i+1));var n=s(e,this.getId(i));this.elements[e.id]={targetElement:n,targetElementId:n.id,refElementId:e.id},this.insertAfter(n,e),e.style.display="none"}function s(e,t){var i=e.cloneNode(!0);return i.id=e.id+"-"+t,i.removeAttribute("name"),i.classList.remove(this.className),i.autocomplete&&!i.autocomplete.startsWith("new")&&i.setAttribute("autocomplete","new-"+i.autocomplete),i.setAttribute("data-refelem",e.id),i}this.addTypingVisualizer(),this.onInput=function(e){var i=t.elements[e.target.dataset.refelem];if(void 0!==i){var n=document.getElementById(i.refElementId);n&&(n.value=e.target.value)}},this.addListeners()}AutocompleteDisabler.prototype.insertAfter=function(e,t){e&&t&&t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},AutocompleteDisabler.prototype.addTypingVisualizer=function(){var e,t=this;if(t.showTypingVisualizer){var i=function(){for(var i in e=new TypingVisualizer({showTDNALogo:t.showTDNALogo}),t.elements)e.addTarget(t.elements[i].refElementId)},n=document.createElement("script");n.src="/js/typing-visualizer.js",n.defer=!0,n.async=!0,n.onreadystatechange=function(){this.readyState},n.onload=i,document.head.appendChild(n)}},AutocompleteDisabler.prototype.addTargetToTypingDNA=function(e,t){if(e&&t&&TypingDNA&&TypingDNA.targetIds){var i=TypingDNA.targetIds.length,n=!1;if(i>0){for(var s=0;s<i;s++)if(TypingDNA.targetIds[s]===t.id){n=!0;break}n&&(TypingDNA.removeTarget(t.id),TypingDNA.addTarget(e.id))}}},AutocompleteDisabler.prototype.getId=function(e){return(new Date).getTime()+e*Math.round(100*Math.random())};const eventNames=["keydown","keypress","keyup","mousemove","mousedown","mouseup","scroll","click","dblclick","focus","copy","paste","input"];AutocompleteDisabler.prototype.addListeners=function(){if(!AutocompleteDisabler.isEmpty(this.elements))for(var e in this.elements)if(this.elements.hasOwnProperty(e)){for(var t=0;t<eventNames.length;t++){var i=eventNames[t];this.elements[e].targetElement.addEventListener(i,n)}this.elements[e].targetElement.addEventListener("input",this.onInput)}function n(e){if(e.target.dataset.refelem){var t=document.getElementById(e.target.dataset.refelem);if(t){var i=new e.constructor(e.type,e);t.dispatchEvent(i),e.stopPropagation()}}}},AutocompleteDisabler.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};